<!doctype html>
<html lang="en">

<head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
    <meta charset="utf-8">

    <title>Just Say No!</title>
    <meta name="description" content="Client giving excuses to get free work? Just Say No!">
    <meta name="author" content="Julian de Villiers">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
</head>

<body>

    <script src="js/scripts.js"></script>
<img id="nextBtn" src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ5MCA0OTAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ5MCA0OTA7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMjU2cHgiIGhlaWdodD0iMjU2cHgiPgo8Zz4KCTxwYXRoIGQ9Ik0yNDUsMEMxMDkuNywwLDAsMTA5LjcsMCwyNDVzMTA5LjcsMjQ1LDI0NSwyNDVzMjQ1LTEwOS43LDI0NS0yNDVTMzgwLjMsMCwyNDUsMHogTTMxNSwyODcuN2wtOTAuNSw5MC41bC00Mi43LTQyLjcgICBsOTAuNS05MC41bC05MC41LTkwLjVsNDIuNy00Mi43bDkwLjUsOTAuNWw0Mi43LDQyLjdMMzE1LDI4Ny43eiIgZmlsbD0iIzAwMDAwMCIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=" />
    <div class="excuseWrapper">
        <div id="excuse" class="excuse"></div>
    <div class="excuseBackground"></div>

    </div>
    <button id="prev">Prev</button>
    <button id="next">Next</button>
    <script>
        function readTextFile(file) {
            var rawFile = new XMLHttpRequest();
            rawFile.open("GET", file, false);
            rawFile.onreadystatechange = function () {
                if (rawFile.readyState === 4) {
                    if (rawFile.status === 200 || rawFile.status == 0) {
                        var allText = rawFile.responseText;
                        var excuseArr = allText.split('\n');
                        console.log(excuseArr);

                        var i = 0;
                        initExcuse(0); //show the first photo initially
                        var excuseLength = excuseArr.length;

                        $('#prev').click(function () {
                            i--;
                            if (i == -1) {
                                initExcuse(excuseLength - 1);
                                i = excuseLength - 1;
                            } else {
                                initExcuse(i);
                            }
                        });

                        $('#next').click(function () {
                            i++;
                            if (i == excuseArr.length) {
                                initExcuse(0);
                                i = 0;
                            } else {
                                initExcuse(i);
                            }
                            $('.excuseWrapper').toggleClass('excuseAnimation');
                        });

                        function initExcuse(i) {
                            $('#excuse').empty();
                            $('#excuse').append(excuseArr[i]);
                        }

                    }
                }
            }
            rawFile.send(null);
        }

        readTextFile("/excuses.txt");


        window.onerror = function () {
            var message = "Error!"
            alert(message);
            return true;
        };
    </script>
    
</body>
</html>
